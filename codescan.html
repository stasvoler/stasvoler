<html>
<head>
    <title>Html-Qrcode Demo</title>
<body>
    <div id="reader" style="width:500px"></div>
</body>
<script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
<script>
    function docReady(fn) {
        // see if DOM is already available
        if (document.readyState === "complete"
            || document.readyState === "interactive") {
            // call on next available tick
            setTimeout(fn, 1);
        } else {
            document.addEventListener("DOMContentLoaded", fn);
        }
    }

    docReady(function () {
        const html5QrCode = new Html5Qrcode(/* element id */ "reader");

        Html5Qrcode.getCameras().then(devices => {
            /**
            * devices would be an array of objects of type:
            * { id: "id", label: "label" }
            */
            if (devices && devices.length) {
                var cameraId = devices[0].id;
                // .. use this to start scanning.



            html5QrCode.start(
            cameraId, 
            {
                fps: 10,    // Optional, frame per seconds for qr code scanning
                qrbox: { width: 250, height: 250 }  // Optional, if you want bounded box UI
            },
            (decodedText, decodedResult) => {
                // do something when code is read
                console.log(`Scan result ${decodedText}`, decodedResult);
            },
            (errorMessage) => {
                // parse error, ignore it.
            })
            .catch((err) => {
            // Start failed, handle it.
            });




            }
            }).catch(err => {
            // handle err
            });

           
           



    
        
    });
</script>
</head>
</html>